<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Azure Service Tags Watcher - Weekly IP Range Monitoring</title>
    <meta name="description"
        content="Monitor changes to Azure Service Tags and IP ranges with automated weekly updates. Free dashboard with historical data and visual analytics.">
    <meta name="keywords" content="azure, service tags, ip ranges, monitoring, dashboard, github pages">
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/date-fns/1.30.1/date_fns.min.js"></script>
</head>

<body>
    <!-- Hero Section with Global Visualization -->
    <header class="hero-section">

        <div class="hero-background">
            <div class="globe-container">
                <div class="globe">
                    <div class="globe-inner">
                        <div class="continent" data-continent="north-america"></div>
                        <div class="continent" data-continent="south-america"></div>
                        <div class="continent" data-continent="europe"></div>
                        <div class="continent" data-continent="africa"></div>
                        <div class="continent" data-continent="asia"></div>
                        <div class="continent" data-continent="oceania"></div>
                    </div>
                    <div class="globe-rings">
                        <div class="ring ring-1"></div>
                        <div class="ring ring-2"></div>
                        <div class="ring ring-3"></div>
                    </div>
                </div>
            </div>
            <div class="network-particles">
                <div class="particle particle-1"></div>
                <div class="particle particle-2"></div>
                <div class="particle particle-3"></div>
                <div class="particle particle-4"></div>
                <div class="particle particle-5"></div>
            </div>
        </div>
        <div class="hero-content">
            <div class="brand-title">
                <h1>
                    <span class="brand-text">Azure Service Tags Watcher</span>
                </h1>
                <p class="hero-subtitle">Weekly monitoring of Azure Service Tags and IP range changes across the globe
                </p>
            </div>
            <div class="hero-stats">
                <div class="hero-stat">
                    <span class="stat-number" id="heroTotalRanges">...</span>
                    <span class="stat-label">IP Ranges</span>
                </div>
                <div class="hero-stat">
                    <span class="stat-number" id="heroRegions">...</span>
                    <span class="stat-label">Regions</span>
                </div>
            </div>
            <div class="last-updated">
                <span class="update-icon">üïê</span>
                Last updated: <span id="lastUpdated">Loading...</span>
            </div>
        </div>
    </header>

    <main class="main-content">
        <div class="container">

            <!-- Loading State -->
            <div id="loadingState" class="loading">
                <div class="spinner"></div>
                <p>Loading Azure Service Tags data...</p>
            </div>

            <!-- Error State -->
            <div id="errorState" class="error hidden">
                <h3>‚ö†Ô∏è Unable to load data</h3>
                <p>Please try refreshing the page or check back later.</p>
            </div>

            <!-- Dashboard Content -->
            <div id="dashboard" class="dashboard hidden">
                <!-- Quick Stats Overview -->
                <section class="stats-overview">
                    <p class="analytics-instruction">üëÜ Click on any card below to explore service or region changes
                        this week</p>
                    <div class="stats-grid">
                        <article class="stat-card clickable-stat" onclick="dashboard.showIPRangesHistory()"
                            title="Click to see IP ranges history">
                            <div class="stat-icon">üìä</div>
                            <div class="stat-content">
                                <h3 id="totalIPRanges">0</h3>
                                <p>Total IP Ranges</p>
                                <span class="click-hint">üëÜ Click to view history</span>
                            </div>
                        </article>
                        <article class="stat-card clickable-stat" onclick="dashboard.showAllChanges()"
                            title="Click to see all service changes this week">
                            <div class="stat-icon">üìà</div>
                            <div class="stat-content">
                                <h3 id="changesThisWeek">0</h3>
                                <p>Service Changes This Week</p>
                                <span class="click-hint">üëÜ Click to browse by services</span>
                            </div>
                        </article>
                        <article class="stat-card clickable-stat" onclick="dashboard.showRegionChanges()"
                            title="Click to see region changes">
                            <div class="stat-icon">üåç</div>
                            <div class="stat-content">
                                <h3 id="ipChanges">0</h3>
                                <p>Region Changes This Week</p>
                                <span class="click-hint">üëÜ Click to browse by region</span>
                            </div>
                        </article>
                    </div>
                </section>

                <!-- Global Search Section -->
                <section class="search-section">
                    <div class="search-container">
                        <h2 class="search-title">üîç Global Search</h2>
                        <p class="search-subtitle">Search for any service or region to view detailed changes</p>
                        <div class="search-box">
                            <input type="text" id="globalSearch" class="search-input"
                                placeholder="Type a service name (e.g., Storage, AppService) or region (e.g., East US, West Europe)..."
                                autocomplete="off">
                            <button class="search-clear" id="searchClear" title="Clear search">‚úï</button>
                        </div>
                        <div id="searchResults" class="search-results hidden"></div>
                        <div class="search-hints">
                            <span class="search-hint-item">üí° Try: <button class="search-example"
                                    onclick="dashboard.searchExample('AzureMachineLearning')">AzureMachineLearning</button></span>
                            <span class="search-hint-item">üí° Try: <button class="search-example"
                                    onclick="dashboard.searchExample('StorageSyncService')">StorageSyncService</button></span>
                            <span class="search-hint-item">üí° Try: <button class="search-example"
                                    onclick="dashboard.searchExample('East US')">East US</button></span>
                        </div>
                    </div>
                </section>

                <!-- Analytics Dashboard -->
                <section class="analytics-section">
                    <header class="section-header">
                        <h2>üìä Analytics Dashboard</h2>
                    </header>
                    <div class="charts-grid">
                        <article class="chart-container">
                            <div class="chart-header">
                                <h3>üìà Most Active Services</h3>
                                <span class="chart-hint">üëÜ Click any service for details</span>
                            </div>
                            <canvas id="activeServicesChart" role="img"
                                aria-label="Chart showing most active Azure services"></canvas>
                        </article>
                        <article class="chart-container">
                            <div class="chart-header">
                                <h3>üåç Regional Hotspots</h3>
                                <span class="chart-hint">üëÜ Click any region for details</span>
                            </div>
                            <canvas id="regionalChart" role="img"
                                aria-label="Geographic regions with significant changes"></canvas>
                        </article>
                    </div>
                </section>

                <!-- Change History Timeline -->
                <section class="timeline-section">
                    <header class="section-header">
                        <h2>üìÖ Change History Timeline</h2>
                        <p>Track when Azure service tag updates occurred</p>
                    </header>
                    <div id="changeHistoryTimeline" class="timeline-container" role="region"
                        aria-label="Change History Timeline">
                        <!-- Timeline will be populated by JavaScript -->
                    </div>
                </section>

                <!-- Change History -->
                <section class="changes-section">
                    <header class="section-header">
                        <h2>üîÑ Recent Changes</h2>
                        <p>Latest updates to Azure service tags and IP ranges</p>
                    </header>
                    <div id="recentChanges" class="changes-container" role="region" aria-label="Recent Changes">
                        <!-- Changes will be populated by JavaScript -->
                    </div>
                </section>
            </div>

            <!-- Service Details Modal -->
            <div id="serviceModal" class="modal hidden">
                <div class="modal-content">
                    <div class="modal-header">
                        <h3 id="modalServiceName">Service Details</h3>
                        <button id="closeModal" class="close-btn">&times;</button>
                    </div>
                    <div class="modal-body">
                        <div class="service-info">
                            <p><strong>Region:</strong> <span id="modalRegion">-</span></p>
                            <p><strong>System Service:</strong> <span id="modalSystemService">-</span></p>
                            <p><strong>IP Ranges:</strong> <span id="modalIPCount">-</span></p>
                        </div>
                        <div class="ip-ranges">
                            <h4>Current IP Ranges:</h4>
                            <div id="modalIPRanges" class="ip-list"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-content">
            <div class="footer-section">
                <h4>Data Source</h4>
                <p><a href="https://www.microsoft.com/en-us/download/details.aspx?id=56519" target="_blank"
                        rel="noopener noreferrer">Microsoft Azure IP Ranges</a></p>
            </div>
            <div class="footer-section">
                <h4>Automation</h4>
                <p>Updated weekly via GitHub Actions</p>
            </div>
            <div class="footer-section">
                <h4>Open Source</h4>
                <p><a href="https://github.com/eliaquimbrandao/azure-service-tags-watcher" target="_blank"
                        rel="noopener noreferrer">View Source Code</a></p>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&copy; 2025 Azure Service Tags Watcher | Built with ‚ù§Ô∏è for the Azure community</p>
        </div>
    </footer>

    <script src="dashboard.js"></script>
</body>

</html>